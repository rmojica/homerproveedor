<!--
  Generated template for the OrdersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header style="background-color: #72A9AE;">
  <ion-toolbar color="header">
    <ion-buttons slot="start">
      <button ion-button icon-only (click)="goHome()">
        <ion-icon name="arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title class="logo-title" (click)="goHome()">
      <img width="150" src="{{values.homerLogoP}}" />
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="sub-header">
    <h1>Pr√≥ximos Servicios</h1>
  </div>
  <div class="card" *ngFor="let orders of data">
    <div class="card-body">
      <div class="countDown">
        <h4>
          <b>Termina en: {{orders.countDown}} Minutos</b>
        </h4>
      </div>
      <div class="row-h2">
        <h2 class="numbook">
          <b>Reserva # {{orders.bookingId}}</b>
        </h2>
        <h2 id="status" style="text-align: center; padding:7px; width: 70%;
          background-color: #000; color: #ffff; border-radius: 20px; font-size:
          10px!important;">
          <b style="text-transform: uppercase; margin-left: 15px;">{{orders.status}}</b>
        </h2>
      </div>
      <h2 class="orderDate">
        <h2>
          <b>Fecha de solicitud: </b> <br>{{orders.date | date: 'dd/MM/yy' }}
        </h2>
        <h2>
          <b>Horario de la reserva: </b> <br>{{orders.hour}} a
          {{orders.hour_end}}
        </h2>
      </h2>
      <div class="rectangle">
        <h2 style="margin:0 auto; width: 80%; font-size: 16px;">
          <b>{{orders.productName}}</b>
        </h2>
        <h5 style="margin:0 auto; width: 80%">
          <b>{{orders.location}}</b>
        </h5>
      </div>
      <h2 style="text-align: center;" *ngIf="orders.isCancel != ''">
        <b>{{orders.isCancel}}</b>
      </h2>


      <!-- <h2 style="text-align: center;" *ngIf="counts.order == orders.id">
          <b>{{counts.count | async}}</b>
        </h2> -->
      <div class="row-button">
        <button (click)="changestate(orders.bookingId,orders.status,
          orders.onesignal)"
          [attr.disabled]="orders.status === 'solicitado' ? true:null"
          [attr.disabled]="orders.status === 'aceptado' ? true:null"
          [attr.hidden]="orders.status === 'finalizado' ? true:null"
          text-center ion-button icon-left clear icon-only class="has-icon
          icon-only" small text-uppercase>
          <span *ngIf="orders.status === 'solicitado'">Aceptar</span>
          <span *ngIf="orders.status === 'aceptado'">Pendiente de pago</span>
          <span *ngIf="orders.status === 'pagado'">He llegado</span>
          <span *ngIf="orders.status === 'he llegado'">Iniciar</span>
          <span *ngIf="orders.status === 'iniciado'">Finalizar</span>
        </button>
        <button (click)="changestatecancel(orders.bookingId, orders.onesignal)"
          [attr.hidden]="orders.status === 'finalizado' ? true:null" text-center
          ion-button icon-left clear color="button-color" icon-only
          class="has-icon icon-only" small text-uppercase>
          Cancelar
        </button>
      </div>
      <button (click)="openchat(orders.id)" text-center ion-button icon-left
        clear color="button-color" icon-only class="has-icon icon-only" small
        text-uppercase>
        Chat
      </button>
      <button (click)="openOrdersDetail()" text-center ion-button icon-left
        clear color="button-color" icon-only class="has-icon icon-only" small
        text-uppercase>
        Ver detalles
      </button>
    </div>
  </div>
</ion-content>
